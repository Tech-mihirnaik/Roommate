{% extends 'cab/dash_base.html' %}

{% block page_content %}

<div class="container">
    <div class="page-header">
        <h1 class="page-header__title">New Bookings</h1>
    </div>
    <div class="page-tools">
        <div class="page-tools__breadcrumbs">
            <div class="breadcrumbs">
                <div class="breadcrumbs__container">
                    <ol class="breadcrumbs__list">
                        <li class="breadcrumbs__item">
                            <a class="breadcrumbs__link" href="index.html">
                                <svg class="icon-icon-home breadcrumbs__icon">
                                    <use xlink:href="#icon-home"></use>
                                </svg>
                                <svg class="icon-icon-keyboard-right breadcrumbs__arrow">
                                    <use xlink:href="#icon-keyboard-right"></use>
                                </svg>
                            </a>
                        </li>
                        <li class="breadcrumbs__item disabled"><a class="breadcrumbs__link"
                                href="#"><span>Booking Section</span>
                                <svg class="icon-icon-keyboard-right breadcrumbs__arrow">
                                    <use xlink:href="#icon-keyboard-right"></use>
                                </svg></a>
                        </li>
                        <li class="breadcrumbs__item active"><span class="breadcrumbs__link">New Bookings</span>
                        </li>
                    </ol>
                </div>
            </div>
        </div>
        <div class="page-tools__right">
            <div class="page-tools__right-row">
            </div>
        </div>
    </div>
    <div class="toolbox">
        <div class="toolbox__row row gutter-bottom-xs">
            <div class="toolbox__left col-12 col-lg">
                <div class="toolbox__left-row row row--xs gutter-bottom-xs">
                    <div class="form-group form-group--inline col-12 col-sm-auto show_grid">
                        <label class="form-label">Show</label>
                        <div class="input-group input-group--white input-group--append">
                            <input class="input input--select" type="text" value="10" size="1"
                                data-toggle="dropdown" readonly><span class="input-group__arrow">
                                <svg class="icon-icon-keyboard-down">
                                    <use xlink:href="#icon-keyboard-down"></use>
                                </svg></span>
                            <div
                                class="dropdown-menu dropdown-menu--right dropdown-menu--fluid js-dropdown-select">
                                <a class="dropdown-menu__item active" href="#" tabindex="0"
                                    data-value="10">10</a><a class="dropdown-menu__item" href="#"
                                    tabindex="0" data-value="15">15</a><a class="dropdown-menu__item"
                                    href="#" tabindex="0" data-value="20">20</a>
                                <a class="dropdown-menu__item" href="#" tabindex="0"
                                    data-value="25">25</a><a class="dropdown-menu__item" href="#"
                                    tabindex="0" data-value="50">50</a>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-group--inline col col-sm-auto">
                        <div
                            class="input-group input-group--white input-group--prepend input-group--append">
                            <div class="input-group__prepend">
                                <svg class="icon-icon-calendar">
                                    <use xlink:href="#icon-calendar"></use>
                                </svg>
                            </div>
                            <input class="input input--select" type="text" value="01.12.18 / 07.12.18"
                                readonly><span class="input-group__arrow">
                                <svg class="icon-icon-keyboard-down">
                                    <use xlink:href="#icon-keyboard-down"></use>
                                </svg></span>
                        </div>
                    </div>

                </div>
            </div>
            <div class="toolbox__right col-12 col-lg-auto">
                <div class="toolbox__right-row row row--xs flex-nowrap">
                    <div class="col col-lg-auto">
                        <form class="toolbox__search" method="GET">
                            <div class="input-group input-group--white input-group--prepend">
                                <div class="input-group__prepend">
                                    <svg class="icon-icon-search">
                                        <use xlink:href="#icon-search"></use>
                                    </svg>
                                </div>
                                <input class="input" type="text" placeholder="Search bookings">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="table-wrapper">
        <div class="table-wrapper__content table-collapse scrollbar-thin scrollbar-visible" data-simplebar>
            <table class="table table--lines">
                <colgroup>
                    <col width="90px">
                    <col width="100px">
                    <col width="16%">
                    <col>
                    <col>
                    <col>
                    <col>
                    <col>
                </colgroup>
                <thead class="table__header">
                    <tr class="table__header-row">
                        <th>
                            <div class="table__checkbox table__checkbox--all">
                                <label class="checkbox">
                                    <input class="js-checkbox-all" type="checkbox"
                                        data-checkbox-all="product"><span class="checkbox__marker"><span
                                            class="checkbox__marker-icon">
                                            <svg class="icon-icon-checked">
                                                <use xlink:href="#icon-checked"></use>
                                            </svg></span></span>
                                </label>
                            </div>
                        </th>
                        <th class="d-lg-table-cell"><span>Booking ID</span>
                        </th>
                        <th class="table__th-sort"><span class="align-middle">Customer Name</span>
                            <!-- <span
                                class="sort sort--down"></span> -->
                        </th>
                        <th class="table__th-sort"><span class="align-middle">Contact No</span>
                            <!-- <span
                                class="sort sort--down"></span> -->
                        </th>
                        <th class="table__th-sort"><span class="align-middle">Pickup Location</span>
                            <!-- <span
                            class="sort sort--down"></span> -->
                        </th>
                        <th class="table__th-sort d-sm-table-cell"><span class="align-middle">Drop Location</span>
                            <!-- <span class="sort sort--down"></span> -->
                        </th>
                        <th class="table__th-sort"><span class="align-middle">Pickup Date</span>
                            <!-- <span
                                class="sort sort--down"></span> -->
                        </th>
                        <th class="table__th-sort"><span class="align-middle">Pickup Time</span>
                            <!-- <span
                                class="sort sort--down"></span> -->
                        </th>
                        <th class="table__th-sort"><span class="align-middle">Car Type</span>
                            <!-- <span
                                class="sort sort--down"></span> -->
                        </th>
                        <!-- <th class="table__th-sort d-sm-table-cell"><span class="align-middle">Status</span>

                        </th> -->
                        <th class="table__th-sort"><span class="align-middle">Confirmation</span>
                        </th>
<!--                        <th class="table__th-sort">-->
<!--                      <span class="align-middle">Driver Info</span>-->
<!--                    </th>-->
<!--                        <th class="table__actions"></th>-->
                    </tr>
                </thead>
                <tbody>
                  {% for i in services %}
                    <tr class="table__row">
                        <td class="table__td">
                            <div class="table__checkbox table__checkbox--all">
                                <label class="checkbox">
                                    <input type="checkbox" data-checkbox="product"><span
                                        class="checkbox__marker"><span class="checkbox__marker-icon">
                                            <svg class="icon-icon-checked">
                                                <use xlink:href="#icon-checked"></use>
                                            </svg></span></span>
                                </label>
                            </div>
                        </td>
                        <td class="d-lg-table-cell table__td"><span class="text-grey">{{i.booking_id}}</span>
                        </td>
                         <td class="d-lg-table-cell table__td">{{i.PassName}}</td>
                        <td class="d-lg-table-cell table__td">{{i.PassPhone}}
                        </td>

                        <td class="table__td">{{i.PassPickup}}</td>
                        <td class="d-sm-table-cell table__td">{{i.PassDrop}}</td>
                        <td class="table__td"><span>{{i.PassDate}}</span>
                        </td>
                        <td class="table__td text-nowrap"><span>{{i.PassTime}}</span>
                        </td>
                        <td class="table__td text-nowrap"><span >{{i.Car}}</span>
                        </td>
                        <!-- <td class="d-sm-table-cell table__td">
                            <div class="table__status"><span class="table__status-icon color-orange"></span>
                                Pending</div>

                        </td> -->
                        <td class="table__td">
                                        <form method="POST" action="{% url 'cabneworder' %}">
                                            {% csrf_token %}
                                            <input name="booking_id" id="field1"  type="hidden" value="{{i.booking_id}}"/>
                                            <input name="confirm" id="confirm" type="hidden" value="Confirm"/>
                                            <button type="button" onclick="confirmjs()" class="confirms" id="btn1"   >Confirm</button>
<!--                                            <button type="submit"  class="confirms" id="btn1"   >Confirm</button>-->
                                            <input name="rejected" id="reject" value="Reject"  type="hidden"/>
                                        <button type="submit"  class="reject" >Reject</button>


                                        </form>

                                    </td>
<!--                    <td>-->
<!--                       <input type="hidden" class="form-control"  id="field1" value="{{i.booking_id}}" >-->
<!--                      <button type="button" onclick="function11()" value="{{id}}" class="button1 btn" id="mybtn">Add-->


<!--                      </button>-->
<!--                    </td>-->
<!--                        <td class="table__td">-->
<!--                            <a href="" class="confirms button button-primary"><button type="button">Confirm</button></a>-->
<!--                            <a href="" class="reject button button-primary"><button type="button">Reject</button></a>-->
<!--                        </td>-->

<!--                        <td class="table__td table__actions">-->
<!--                            <div class="items-more">-->
<!--                                <button class="items-more__button">-->
<!--                                    <svg class="icon-icon-more">-->
<!--                                        <use xlink:href="#icon-more"></use>-->
<!--                                    </svg>-->
<!--                                </button>-->
                                <!-- <div class="dropdown-items dropdown-items--right">
                                    <div class="dropdown-items__container">
                                        <ul class="dropdown-items__list">
                                            <li class="dropdown-items__item"><a class="dropdown-items__link"
                                                    href="order-details.html"><span
                                                        class="dropdown-items__link-icon">
                                                        <svg class="icon-icon-view">
                                                            <use xlink:href="#icon-view"></use>
                                                        </svg></span>Details</a>
                                            </li>
                                            <li class="dropdown-items__item"><a href="order-status.html"
                                                    class="dropdown-items__link"><span
                                                        class="dropdown-items__link-icon">
                                                        <svg class="icon-icon-status">
                                                            <use xlink:href="#icon-status"></use>
                                                        </svg></span>Status</a>

                                            </li>
                                            <li class="dropdown-items__item"><a
                                                    class="dropdown-items__link"><span
                                                        class="dropdown-items__link-icon">
                                                        <svg class="icon-icon-duplicate">
                                                            <use xlink:href="#icon-duplicate"></use>
                                                        </svg></span>Duplicate</a>
                                            </li>
                                            <li class="dropdown-items__item"><a
                                                    class="dropdown-items__link"><span
                                                        class="dropdown-items__link-icon">
                                                        <svg class="icon-icon-archive">
                                                            <use xlink:href="#icon-archive"></use>
                                                        </svg></span>Archive</a>
                                            </li>
                                            <li class="dropdown-items__item"><a
                                                    class="dropdown-items__link"><span
                                                        class="dropdown-items__link-icon">
                                                        <svg class="icon-icon-trash">
                                                            <use xlink:href="#icon-trash"></use>
                                                        </svg></span>Delete</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div> -->
                            </div>
<!--                        </td>-->
                    </tr>
{% endfor %}
                </tbody>
            </table>
        </div>

<!-- The Modal -->
<div id="advpay1" class="modall">

  <!-- Modal content -->
  <div class="modall-content">
    <span class="close">&times</span>
<!--      background-image:url('img\1jpg')-->
     <form class="row" style="" method="POST" action="{% url 'cabneworder' %}">
         {% csrf_token %}

       <div class="col-sm-6">
        <label for="advpay_link" class="form-label"><span class="red">*</span>Advance Payment link</label>
        <input type="text" class="form-control" id="advpay_link" name="advpay_link" required  >
       </div>
         <div class="col-sm-6">
        <label for="total" class="form-label"><span class="red">*</span>Total Payment</label>
        <input type="text" class="form-control" id="total" name="total" required >
       </div>
         <div class="col-sm-6">
        <label for="advpay_price" class="form-label"><span class="red">*</span>Advance Payment</label>
        <input type="text" class="form-control" id="advpay_price" name="advpay_price" required  >
       </div>
         <div class="col-sm-6">
        <label for="duepay_price" class="form-label"><span class="red">*</span>Payment Due</label>
        <input type="text" class="form-control" id="duepay_price" name="duepay_price" required  >
       </div>
          <div class="col-sm-6">
        <label for="booking_id" class="form-label"><span class="red">*</span>Booking Id</label>
        <input type="text" class="form-control" id="booking_id" name="booking_id" placeholder="#9999999" required  >
       </div>

<!--        <input type="text"   name="booking_id" id="field2" >-->

         <input name="confirm" id="confirm2" type="hidden" value="Confirm" />
      <div class="d-flex align-items-center text-center"style="width:100%;"><button class=" btn btn-primary" type="submit" style="margin:2px auto">Send</button></div>
     </form>
  </div>
</div>



        <div class="table-wrapper__footer">
            <div class="row">
                <div class="table-wrapper__show-result col text-grey"><span class="d-none d-sm-inline-block">Showing</span> {{pagi_rooms.number}} to {{pagi_rooms.paginator.num_pages}} <span class="d-none d-sm-inline-block">of {{room|length}} items</span>
                </div>
                <div class="table-wrapper__pagination col-auto">
                    <ol class="pagination">
                     {% if pagi_rooms.has_previous %}
                     <li class="pagination__item"><a class="pagination__arrow pagination__arrow--prev" href="?page=1">&laquo;</a>
                        </li>
                        <li class="pagination__item active">
                            <a class="pagination__arrow pagination__arrow--prev"  href="?page={{pagi_rooms.previous_page_number}}">
                                <svg class="icon-icon-keyboard-left">
                                        <use xlink:href="#icon-keyboard-left"></use>
                                </svg>
                            </a>
                        </li>
                    {% endif %}
                        {% for num  in pagi_rooms.paginator.page_range %}
                            {% if pagi_rooms.number == num  %}
                                <li class="pagination__item active"><a class=" pagination__link" href="?page={{num}}"><strong>{{num}}</strong></a>
                                </li>
                            {% elif num > pagi_rooms.number|add:'-3' and num < pagi_rooms.number|add:'3' %}
                                <li class="pagination__item"><a class="pagination__arrow pagination__arrow--prev" href="?page={{num}}">{{num}}</a>
                                </li>
                            {% endif %}
                        {% endfor %}
                        
                     {% if pagi_rooms.has_next %}
                        <li class="pagination__item">
                            <a class="pagination__arrow pagination__arrow--next" href="?page={{pagi_rooms.next_page_number}}">
                                <svg class="icon-icon-keyboard-right">
                                    <use xlink:href="#icon-keyboard-right"></use>
                                </svg>
                            </a>
                        </li>
                        <li class="pagination__item"><a class="pagination__arrow pagination__arrow--prev" href="?page={{pagi_rooms.paginator.num_pages}}">&raquo;</a>
                        </li>
                    {% endif %}
                    </ol>
                </div>
            </div>
        </div>
    </div>
</div>


<script>


  // Get the modal
  var modalll = document.getElementById("advpay1");
  modalll.style.display = "None";


 function confirmjs(){
 //console.log(document.getElementById("field2").value);
 //getElementById("field2").value = document.getElementById("field1").value;
 //console.log(document.getElementById("field1").value);


 console.log("1");
 modalll.style.display = "block";
 console.log("true");
}

  // Get the button that opens the modal
  var btn = document.getElementById("btn1");

  // Get the <span> element that closes the modal
  var span = document.getElementsByClassName("close")[0];

  // When the user clicks on <span> (x), close the modal
  span.onclick = function() {
    modalll.style.display = "none";
  }

  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function(event) {
    if (event.target == modalll) {
      modalll.style.display = "none";
    }
  }
  </script>

<!--<script>-->
<!--  // Get the modal-->
<!--  var modalll = document.getElementById("myModal");-->
<!--modalll.style.display = "None";-->

<!--  // Get the button that opens the modal-->
<!--  var btn = document.getElementById("mybtn");-->

<!--  // Get the <span> element that closes the modal-->
<!--  var span = document.getElementsByClassName("close")[0];-->

<!--  // When the user clicks the button, open the modal-->
<!--  btn.onclick = function() {-->
<!--    modalll.style.display = "block";-->
<!--    console.log('hi');-->
<!--  }-->

<!--  // When the user clicks on <span> (x), close the modal-->
<!--  span.onclick = function() {-->
<!--    modalll.style.display = "none";-->
<!--    console.log('hi2');-->
<!--  }-->

<!--  // When the user clicks anywhere outside of the modal, close it-->
<!--  window.onclick = function(event) {-->
<!--    if (event.target == modal) {-->
<!--      modalll.style.display = "none";-->
<!--      console.log('hi3');-->
<!--    }-->
<!--  }-->
<!--  </script>-->

{% endblock page_content %}

